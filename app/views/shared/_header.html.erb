<header class="w-full bg-white shadow-md py-4 px-8 flex justify-between items-center">
  <div class="flex items-center gap-1">
    <% if user_signed_in? %>
      <%= link_to dashboard_path, class: "flex items-center gap-1" do %>
        <%= image_tag "LOGO.png", class: "w-7 h-7 rounded-full", alt: "NatureHabit ãƒ­ã‚´" %>
        <span class="text-2xl font-bold text-green-700 hover:text-green-500 transition">
          NatureHabit
        </span>
      <% end %>
    <% else %>
      <%= link_to root_path, class: "flex items-center gap-1" do %>
        <%= image_tag "LOGO.png", class: "w-7 h-7 rounded-full", alt: "NatureHabit ãƒ­ã‚´" %>
        <span class="text-2xl font-bold text-green-700 hover:text-green-500 transition">
          NatureHabit
        </span>
      <% end %>
    <% end %>
  </div>

  <nav class="flex flex-row space-x-6 text-gray-600">
    <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹å ´åˆ -->
    <% if user_signed_in? %>
      <!-- é€šçŸ¥ãƒ™ãƒ«ã‚’ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿ãƒ˜ãƒƒãƒ€ãƒ¼è¡¨ç¤º -->
      <div class="relative flex" data-controller="dropdown">
        <button data-action="click->dropdown#toggle" class="relative text-xl">
        ğŸ””
        <% unread_count = current_user.notifications.unread.count %>
        <% if unread_count > 0 %>
          <span class="absolute -top-1 -right-1 bg-green-500 text-white text-xs rounded-full px-1">
            <%= unread_count %>
          </span>
        <% end %>
        </button>

        <div data-dropdown-target="menu" class="hidden absolute right-0 mt-7 z-50">
          <%= render "notifications/list", notifications: current_user.notifications.order(created_at: :desc).limit(10) %>
        </div>
      </div>

      <!-- ãƒ­ã‚°ã‚¤ãƒ³ä¸­ã¯ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³ã®è¡¨ç¤º -->
      <%= link_to "ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ", destroy_user_session_path, class: "flex hover:text-green-600", data: { turbo_method: :delete, turbo_confirm: "ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ã‹ï¼Ÿ" } %>

    <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ãªã„å ´åˆ -->
    <% else %>
      <%= link_to "ãƒ­ã‚°ã‚¤ãƒ³", new_user_session_path, class: "hover:text-green-600" %>
    <% end %>
  </nav>
</header>
