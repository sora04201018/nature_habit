<% flash.each do |message_type, message| %>
  <% next if message.blank? %> <%# messageが空の時はスキップ %>
    <div class="fixed top-4 right-4 z-50 transform translate-x-full transition-transform duration-400 ease-out max-w-xs w-full shadow-lg rounded-lg overflow-hidden <%= message_type == "notice" ? "bg-green-400 text-white" : "bg-red-400 text-white" %>" data-controller="flash" data-flash-timeout-value ="10000" role="status" data-turbo-cache="false" aria-live="polite"> <%# 三項演算子で分岐, Stimulusで動的処理 %>
      <div class="px-4 py-3 flex justify-between items-center gap-3">
        <div class="flex-1 text-sm">
          <%= message %>
        </div>
      <button type="button" class="text-white/90 hover:text-white rounded transition px-2 py-1" data-action="click->flash#close" aria-label="dismiss">✕</button> <%# Stimulusでクリック→閉じるを処理 %>
      </div>
    </div>
<% end %>
