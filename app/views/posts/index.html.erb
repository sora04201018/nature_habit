<h1 class="text-center font-bold text-3xl mb-6 mt-5 text-green-800">
  🌱 みんなの自然 🌱
</h1>

<div class="pb-20">
  <!-- 投稿一覧コンテナ -->
  <div class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6 px-4">

    <% @posts.each do |post| %>
      <div class="bg-white rounded-xl shadow-md hover:shadow-xl transition p-4">

        <% if post.image.attached? %>
          <%= image_tag post.display_image, class: "w-full h-48 object-cover rounded-lg mb-3" %>
        <% end %>

        <h2 class="text-xl font-bold text-green-700 mb-1">
          <%= post.title %>
        </h2>

        <p class="text-gray-600 mb-3">
          <%= truncate(post.body, length: 80) %>
        </p>

        <p class="text-gray-600 mb-3">
          投稿者：<%= post.user.name %>
        </p>

        <p class="text-gray-600 mb-3">
          投稿日：<%= l post.created_at %>
        </p>

        <%= link_to "詳しく見る", post_path(post),
            class: "inline-block text-white bg-green-600 px-4 py-2 rounded-lg hover:bg-green-700 transition" %>

        <div class="flex justify-end text-base gap-2 mt-3">
          <div class="text-green-800">
            <span>💚</span>
            <span><%= post.likes.count %></span>
          </div>

          <div class="text-gray-700">
            <span>💬</span>
            <span><%= post.comments.count %></span>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <!-- 投稿ボタン -->
  <div class="text-center mt-10">
    <%= link_to "🌿 自然を投稿する 🌿", new_post_path,
        class: "text-green-700 bg-white px-6 py-3 rounded-xl border-2 border-green-400 hover:bg-green-50 hover:text-green-900 transition font-semibold shadow" %>
  </div>

  <div class="text-center mt-10">
    <%= link_to "ダッシュボードに戻る", dashboard_path,
        class: "text-green-700 bg-white px-6 py-3 rounded-xl border-2 border-green-400 hover:bg-green-50 hover:text-green-900 transition font-semibold shadow" %>
  </div>
</div>
